[build-system]
requires = [
    "setuptools>=62",
    "setuptools_scm",
    "wheel",
    "Cython>=0.29.24"
]
build-backend = "setuptools.build_meta"

[project]
name = "nvshmem4py"
dynamic = ["version"]
description = "Python bindings for NVSHMEM"
authors = [
    {name = "NVIDIA Corporation"}
]
readme = "README.md"
requires-python = ">=3.9"
dependencies = [
# This gets generated by the build system
]

[tool.setuptools]
packages = ["nvshmem", "nvshmem.bindings", "nvshmem.core"]
include-package-data = true

[tool.setuptools.package-data]
"nvshmem.core" = ["*.py"]  # Match Python package name, not filesystem path
"nvshmem.bindings" = ["*.py", "*.pxd","*.so"]
"nvshmem.bindings._internal" = ["*.py", "*.pxd", "*.so"]


[tool.setuptools_scm]
write_to = "nvshmem/version.py"
# TODO: setuptools_scm is meant to use a git tag for the version
# Once we have releases, we should move to that system
fallback_version = "0.1.0"
version_scheme = "guess-next-dev"

[project.optional-dependencies]
dev = [
    "pytest>=6.0",
    "black",
    "isort",
]

[tool.black]
line-length = 100
target-version = ['py310']

[tool.isort]
profile = "black"
line_length = 100
